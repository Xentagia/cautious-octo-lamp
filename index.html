<script>
  // 🔡 Your custom word list here:
  const wordList = ["apple", "brave", "charm", "delta", "eagle", "fancy", "grape", "hound"];
  
  const startDate = new Date('2025-06-02');
  const today = new Date();
  const dayNumber = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));
  const targetWord = wordList[dayNumber % wordList.length].toUpperCase();
  const maxGuesses = 6;
  const guesses = [];

  const played = localStorage.getItem('wordlePlayed-' + dayNumber);
  const storedResult = localStorage.getItem('wordleResult-' + dayNumber);

  if (played) {
    document.getElementById('guess').disabled = true;
    document.querySelector('button').disabled = true;
    document.getElementById('result').textContent = '✅ You already played today!\nHere was your result:\n' + storedResult;
  }

  function submitGuess() {
    if (guesses.length >= maxGuesses) return;

    const input = document.getElementById('guess');
    const guess = input.value.toUpperCase();
    if (guess.length !== 5) {
      alert('Enter a 5-letter word.');
      return;
    }

    guesses.push(guess);
    const result = getResult(guess);
    document.getElementById('result').textContent += result + '\n';

    if (guess === targetWord) {
      document.getElementById('result').textContent += '\n🎉 You guessed it in ' + guesses.length + ' tries!';
      endGame();
    } else if (guesses.length >= maxGuesses) {
      document.getElementById('result').textContent += '\n❌ Out of tries! The word was: ' + targetWord;
      endGame();
    }

    input.value = '';
  }

  function getResult(guess) {
    let result = '';
    const targetArr = targetWord.split('');
    const guessArr = guess.split('');

    // 🟩 First pass: correct letter and position
    for (let i = 0; i < 5; i++) {
      if (guessArr[i] === targetArr[i]) {
        result += '🟩';
        targetArr[i] = null;
        guessArr[i] = null;
      }
    }

    // 🟨 Second pass: correct letter, wrong position
    for (let i = 0; i < 5; i++) {
      if (guessArr[i] && targetArr.includes(guessArr[i])) {
        result += '🟨';
        targetArr[targetArr.indexOf(guessArr[i])] = null;
      } else if (guessArr[i]) {
        result += '⬜';
      }
    }

    return result;
  }

  function endGame() {
    document.getElementById('guess').disabled = true;
    document.querySelector('button').disabled = true;

    // Store that user played and their result for reload:
    localStorage.setItem('wordlePlayed-' + dayNumber, 'true');
    localStorage.setItem('wordleResult-' + dayNumber, document.getElementById('result').textContent);
  }
</script>