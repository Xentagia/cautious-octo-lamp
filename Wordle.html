<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Custom Wordle League</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 20px; }
    input { font-size: 20px; text-transform: uppercase; }
    .result { white-space: pre-line; margin-top: 20px; font-size: 24px; }
  </style>
</head>
<body>
  <h1>Wordle League</h1>
  <p>Guess the 5-letter word of the day:</p>
  <input type="text" id="guess" maxlength="5" autofocus />
  <button onclick="submitGuess()">Guess</button>
  <div class="result" id="result"></div>

  <script>
    // üî° Your custom word list here:
    const wordList = ["apple", "brave", "charm", "delta", "eagle", "fancy", "grape", "hound"];
    
    // üìÖ Calculate day number since a start date:
    const startDate = new Date('2025-06-01');
    const today = new Date();
    const dayNumber = Math.floor((today - startDate) / (1000 * 60 * 60 * 24));

    // üèÜ Pick today's word based on dayNumber:
    const targetWord = wordList[dayNumber % wordList.length].toUpperCase();
    const maxGuesses = 6;
    const guesses = [];

    // ‚úÖ Prevent replays using localStorage:
    const played = localStorage.getItem('wordlePlayed-' + dayNumber);
    if (played) {
      document.getElementById('guess').disabled = true;
      document.querySelector('button').disabled = true;
      document.getElementById('result').textContent = '‚úÖ You have already played today!';
    }

    function submitGuess() {
      if (guesses.length >= maxGuesses) return;

      const input = document.getElementById('guess');
      const guess = input.value.toUpperCase();
      if (guess.length !== 5) {
        alert('Enter a 5-letter word.');
        return;
      }

      guesses.push(guess);
      const result = getResult(guess);
      document.getElementById('result').textContent += result + '\n';

      if (guess === targetWord) {
        document.getElementById('result').textContent += '\nüéâ You guessed it in ' + guesses.length + ' tries!';
        endGame();
      } else if (guesses.length >= maxGuesses) {
        document.getElementById('result').textContent += '\n‚ùå Out of tries! The word was: ' + targetWord;
        endGame();
      }

      input.value = '';
    }

    function getResult(guess) {
      let result = '';
      const targetArr = targetWord.split('');
      const guessArr = guess.split('');

      // üü© First pass for correct position:
      for (let i = 0; i < 5; i++) {
        if (guessArr[i] === targetArr[i]) {
          result += 'üü©';
          targetArr[i] = null; // Mark as used
          guessArr[i] = null;
        }
      }

      // üü® Second pass for correct letters wrong position:
      for (let i = 0; i < 5; i++) {
        if (guessArr[i] && targetArr.includes(guessArr[i])) {
          result += 'üü®';
          targetArr[targetArr.indexOf(guessArr[i])] = null; // Mark as used
        } else if (guessArr[i]) {
          result += '‚¨ú';
        }
      }

      return result;
    }

    function endGame() {
      document.getElementById('guess').disabled = true;
      document.querySelector('button').disabled = true;
      // üö´ Store play state in localStorage:
      localStorage.setItem('wordlePlayed-' + dayNumber, 'true');
    }
  </script>
</body>
</html>